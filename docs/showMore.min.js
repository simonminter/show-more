var ShowMore=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?e(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}return function e(a){var i=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=l.onMoreLess,c=void 0===s?function(){}:s,o=l.regex,d=void 0===o?{}:o,p=l.config;n(this,e),r(this,"htmlSubstr",(function(e,t){var n=document.createElement("div");return n.innerHTML=e,function e(t,n){var r=t.firstChild;do{3===r.nodeType?n(r):1===r.nodeType&&r.childNodes&&r.childNodes[0]&&e(r,n)}while(r=r.nextSibling)}(n,(function(e){if(t>0){var n=e.data.length;(t-=n)<=0&&(e.data=e.substringData(0,e.data.length+t))}else e.data=""})),n.innerHTML})),r(this,"initial",(function(e){var n=e.element,r=e.after,a=e.ellipsis,l=e.limit,s=e.type;n.setAttribute("aria-expanded","false");var c=l+r,o=!1===a?"":"...";if("text"===s){var d="",p=n.innerHTML.trim(),h=n.textContent.trim(),m=p;for(var b in i.regex){var u=i.regex[b],f=u.match,g=u.replace;b&&f&&(m=m.replace(f,g))}h.length>c&&(d=i.htmlSubstr(m,l).concat(o),n.innerHTML=d,i.addBtn(i.object),i.clickEvent(n,t(t({},i.object),{},{originalText:p,truncatedText:d})))}if("list"===s||"table"===s){var v="list"===s?[].slice.call(n.children):n.rows;if(v.length>c){for(var x=l;x<v.length;x++)i.addRemClass(v[x],!0);i.addBtn(i.object),i.clickEvent("list"===s?n:n.nextElementSibling,i.object)}}})),r(this,"clickEvent",(function(e,t){e.addEventListener("click",i.handleEvent.bind(i,t))})),r(this,"createBtn",(function(e){var t=e.element,n=e.number,r=e.less,a=e.more,l=e.type,s=e.btnClass,c=e.btnClassAppend,o=i.checkExp?r||"":a||"",d=i.checkExp?"collapse":"expand",p=!!i.checkExp,h=document.createElement("button");return h.className=null==c?s:s+" "+c,h.setAttribute("aria-expanded",p),h.setAttribute("aria-label",d),h.setAttribute("tabindex",0),h.innerHTML=n?o+i.getNumber(t,l):o,h})),r(this,"addRemClass",(function(e,t){e.classList[t?"add":"remove"]("hidden")})),r(this,"handleEvent",(function(e,n){var r=e.element,a=e.type,l=e.limit,s=e.less,c=e.typeElement,o=e.originalText,d=e.truncatedText,p=e.btnClass,h=n.currentTarget,m=n.target,b=m.classList.contains(p),u=r.getAttribute("aria-expanded");if(i.checkExp="false"===u,"text"===a&&b&&(r.innerHTML="",r.innerHTML=i.checkExp?o:d,s)){var f=document.createElement(c);f.insertAdjacentElement("beforeend",i.createBtn(e)),r.appendChild(f)}if("list"===a&&b||"table"===a)for(var g="list"===a?[].slice.call(h.children):r.rows,v=0;v<g.length;v++){var x="list"===a?v>=l&&v<g.length-1:v>=l;"false"===u?i.addRemClass(g[v],!1):x&&i.addRemClass(g[v],!0)}("table"===a||("list"===a||"text"===a)&&b)&&i.setExpand(t(t({},e),{},{target:m}))})),r(this,"addBtn",(function(e){var t=e.type,n=e.element,r=e.more,a=e.typeElement;if(r)if("table"===t)n.insertAdjacentElement("afterend",i.createBtn(e));else{var l=document.createElement(a);l.appendChild(i.createBtn(e)),n.appendChild(l)}})),r(this,"getNumber",(function(e,t){var n=e.rows,r=e.children,a="table"===t?n:r,i=[].slice.call(a).filter((function(e){return"hidden"===e.className})).length;return 0!==i?" ".concat(i):""})),r(this,"setExpand",(function(e){var t=e.element,n=e.type,r=e.less,a=e.more,l=e.number,s=e.target,c=i.checkExp?r:a,o=i.checkExp?"expand":"collapse",d="table"===n?n:"the ".concat(n),p=t.lastElementChild;t.setAttribute("aria-expanded",i.checkExp),s.setAttribute("aria-label","".concat(o," ").concat(d)),i.onMoreLess(o,e),c?s.innerHTML=l?c+i.getNumber(t,n):c:"table"===n?s.parentNode.removeChild(s):"list"===n&&p.parentNode.removeChild(p)})),this.elements=document.querySelectorAll(a),this.onMoreLess=c,this.regex=Object.assign({newLine:{match:/(\r\n|\n|\r)/gm,replace:""},space:{match:/\s\s+/gm,replace:" "},br:{match:/<br\s*\/?>/gim,replace:""},html:{match:/(<((?!b|\/b|!strong|\/strong)[^>]+)>)/gi,replace:""}},d);for(var h=0;h<this.elements.length;h++){var m=JSON.parse(this.elements[h].getAttribute("data-config"))||p,b=m.type,u=m.limit,f=m.element,g=m.after,v=m.more,x=m.less,E=m.number,y=m.ellipsis,j=m.btnClass,C=m.btnClassAppend;this.object={index:h,element:this.elements[h],type:b,limit:u,classArray:this.elements[h].classList,ellipsis:y,typeElement:f||"span",more:v||!1,less:x||!1,number:E||!1,after:g||0,btnClass:j||"show-more-btn",btnClassAppend:C||null},this.initial(this.object)}}}();
