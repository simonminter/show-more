var ShowMore=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.show,r=n.type,s=n.more,a=n.less;this.className=".".concat(e.class),this.type=r||"span",this.more=s,this.more=a,this.showMore=' <span class="showMore">'.concat(s,"</span>"),this.showLess=' <span class="showLess">'.concat(a,"</span>"),this.render()}var n,r,s;return n=t,(r=[{key:"render",value:function(){for(var e=document.querySelectorAll(this.className),t=0;t<e.length;t++){var n=Number(e[t].getAttribute("data-number")),r=e[t].getAttribute("data-type");this.showMoreLess(r,e[t],n)}}},{key:"showMoreLess",value:function(e,t,n){if("text"===e){var r=t.innerHTML,s="",a=r.replace(/(\r\n|\n|\r)/gm,"").length-t.innerText.replace(/(\r\n|\n|\r)/gm,"").length;if(r.length>n){s=(s=r.substr(0,n+a)).substr(0,Math.min(s.length,s.lastIndexOf(" "))),t.innerHTML=s;var o=this.createElement(this.type);o.insertAdjacentHTML("beforeend",this.showMore),t.appendChild(o),this.appendControlsText(t,r,s)}}if("list"===e){var i=[].slice.call(t.children);if(i.length>n){for(var l=0;l<i.length;l++)l>=n&&i[l].classList.add("hidden");var c=this.createElement(this.type);c.insertAdjacentHTML("beforeend",this.showMore),t.appendChild(c),this.appendControlList(t,n)}}if("table"===e){var h=t.tBodies[0].rows;if(h.length>n){for(var d=0;d<h.length;d++)d>=n&&h[d].classList.add("hidden");var u=this.createElement("tfoot"),p=this.createElement("tr"),f=this.createElement("th");u.appendChild(p),f.colSpan=this.getTableColumnCount(t),p.appendChild(f),f.insertAdjacentHTML("beforeend",this.showMore),t.appendChild(u)}this.appendControlsTable(t,n)}}},{key:"appendControlsText",value:function(e,t,n){var r=this;e.addEventListener("click",(function(e){var s=e.target.className;if("showMore"===s||"showLess"===s){e.currentTarget.innerHTML="",e.currentTarget.innerHTML="showMore"===s?t:n.replace(/(\r\n|\n|\r)/gm,"");var a=document.createElement(r.type);a.insertAdjacentHTML("beforeend","showMore"===s?r.showLess:r.showMore),e.currentTarget.appendChild(a)}}))}},{key:"appendControlList",value:function(e,t){var n=this;e.addEventListener("click",(function(r){var s=r.target.className;if("showMore"===s||"showLess"===s){e.classList.toggle("is-open");for(var a=r.currentTarget.classList.contains("is-open"),o=[].slice.call(r.currentTarget.children),i=0;i<o.length;i++)a?o[i].classList.remove("hidden"):i>=t&&i<o.length-1&&o[i].classList.add("hidden");var l=o[o.length-1];l.parentNode.removeChild(l);var c=n.createElement(n.type);c.insertAdjacentHTML("beforeend",a?n.showLess:n.showMore),e.appendChild(c)}}))}},{key:"appendControlsTable",value:function(e,t){var n=this;e.addEventListener("click",(function(r){var s=r.target.className,a=e.tBodies[0].rows;if("showMore"===s){r.target.innerHTML="";for(var o=0;o<a.length;o++)a[o].classList.remove("hidden");r.target.insertAdjacentHTML("beforeend",n.showLess)}if("showLess"===s){r.target.innerHTML="";for(var i=t;i<a.length;i++)a[i].classList.add("hidden");r.target.insertAdjacentHTML("beforeend",n.showMore)}}))}},{key:"createElement",value:function(e){return document.createElement(e)}},{key:"getTableColumnCount",value:function(e){var t=0,n=e.rows;if(n.length>0)for(var r=n[0].cells,s=0,a=r.length;s<a;++s)t+=r[s].colSpan;return t}}])&&e(n.prototype,r),s&&e(n,s),t}()}();
