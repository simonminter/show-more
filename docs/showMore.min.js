var ShowMore=function(){"use strict";function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.className=".".concat(e.class),this.showMore=' <span class="showMore">'.concat(e.more,"</span>"),this.showLess=' <span class="showLess">'.concat(e.less,"</span>"),this.render()}var t,r,s;return t=n,(r=[{key:"render",value:function(){for(var e=document.querySelectorAll(this.className),n=0;n<e.length;n++){e[n].dataset.type;var t=Number(e[n].dataset.number);this.showMoreText(e[n],t),this.showMoreList(e[n],t)}}},{key:"showMoreText",value:function(e,n){var t=e.innerHTML,r="",s=t.replace(/(\r\n|\n|\r)/gm,"").length-e.innerText.replace(/(\r\n|\n|\r)/gm,"").length;t.length>n&&(r=(r=t.substr(0,n+s)).substr(0,Math.min(r.length,r.lastIndexOf(" "))),e.innerHTML=r,e.insertAdjacentHTML("beforeend",this.showMore),this.appendControlsText(e,t,r))}},{key:"appendControlsText",value:function(e,n,t){var r=this;e.addEventListener("click",(function(e){var s=e.target.className;"showMore"!==s&&"showLess"!==s||(e.currentTarget.innerHTML="",e.currentTarget.innerHTML="showMore"===s?n:t.replace(/(\r\n|\n|\r)/gm,""),e.currentTarget.insertAdjacentHTML("beforeend","showMore"===s?r.showLess:r.showMore))}))}},{key:"showMoreList",value:function(e,n){var t=[].slice.call(e.children);if(t.length>n){for(var r=0;r<t.length;r++)r>=n&&t[r].classList.add("hidden");var s=document.createElement("li");s.insertAdjacentHTML("beforeend",this.showMore),e.appendChild(s),this.appendControlList(e,n)}}},{key:"appendControlList",value:function(e,n){var t=this;e.addEventListener("click",(function(r){var s=r.target.className;if("showMore"===s||"showLess"===s){e.classList.toggle("is-open");for(var a=r.currentTarget.classList.contains("is-open"),o=[].slice.call(r.currentTarget.children),i=0;i<o.length;i++)a?o[i].classList.remove("hidden"):i>=n&&i<o.length-1&&o[i].classList.add("hidden");var c=o[o.length-1];c.parentNode.removeChild(c);var l=document.createElement("li");l.insertAdjacentHTML("beforeend",a?t.showLess:t.showMore),e.appendChild(l)}}))}}])&&e(t.prototype,r),s&&e(t,s),n}()}();
