var ShowMore=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.className=".".concat(e.class),this.showMore=' <span class="showMore">'.concat(e.more,"</span>"),this.showLess=' <span class="showLess">'.concat(e.less,"</span>"),this.render()}var n,r,s;return n=t,(r=[{key:"render",value:function(){for(var e=document.querySelectorAll(this.className),t=0;t<e.length;t++){var n=Number(e[t].getAttribute("data-number"));switch(e[t].getAttribute("data-type")){case"text":this.showMoreText(e[t],n);break;case"list":this.showMoreList(e[t],n)}}}},{key:"showMoreText",value:function(e,t){var n=e.innerHTML,r="",s=n.replace(/(\r\n|\n|\r)/gm,"").length-e.innerText.replace(/(\r\n|\n|\r)/gm,"").length;n.length>t&&(r=(r=n.substr(0,t+s)).substr(0,Math.min(r.length,r.lastIndexOf(" "))),e.innerHTML=r,e.insertAdjacentHTML("beforeend",this.showMore),this.appendControlsText(e,n,r))}},{key:"appendControlsText",value:function(e,t,n){var r=this;e.addEventListener("click",(function(e){var s=e.target.className;"showMore"!==s&&"showLess"!==s||(e.currentTarget.innerHTML="",e.currentTarget.innerHTML="showMore"===s?t:n.replace(/(\r\n|\n|\r)/gm,""),e.currentTarget.insertAdjacentHTML("beforeend","showMore"===s?r.showLess:r.showMore))}))}},{key:"showMoreList",value:function(e,t){var n=[].slice.call(e.children);if(n.length>t){for(var r=0;r<n.length;r++)r>=t&&n[r].classList.add("hidden");var s=document.createElement("li");s.insertAdjacentHTML("beforeend",this.showMore),e.appendChild(s),this.appendControlList(e,t)}}},{key:"appendControlList",value:function(e,t){var n=this;e.addEventListener("click",(function(r){var s=r.target.className;if("showMore"===s||"showLess"===s){e.classList.toggle("is-open");for(var a=r.currentTarget.classList.contains("is-open"),o=[].slice.call(r.currentTarget.children),i=0;i<o.length;i++)a?o[i].classList.remove("hidden"):i>=t&&i<o.length-1&&o[i].classList.add("hidden");var c=o[o.length-1];c.parentNode.removeChild(c);var l=document.createElement("li");l.insertAdjacentHTML("beforeend",a?n.showLess:n.showMore),e.appendChild(l)}}))}}])&&e(n.prototype,r),s&&e(n,s),t}()}();
