var ShowMore=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.className=".".concat(e.class),this.typeElement=e.show.type||"span",this.more=e.show.more,this.less=e.show.less,this.showMore='<span class="showMore showMoreButton">'.concat(e.show.more,"</span>"),this.showLess='<span class="showLess showMoreButton">'.concat(e.show.less,"</span>"),this.regex=/^\s*[\r\n]?/gm,this.render()}var n,a,s;return n=t,(a=[{key:"render",value:function(){for(var e=document.querySelectorAll(this.className),t=0;t<e.length;t++){var n=e[t].getAttribute("data-number"),a=e[t].getAttribute("data-after"),s=e[t].getAttribute("data-type");this.init(s,e[t],+n,+a)}}},{key:"init",value:function(e,t,n,a){t.setAttribute("aria-expanded","false");var s=n+a;if("text"===e){var r=t.innerHTML,i="",l=r.replace(this.regex,"").length-t.innerText.replace(this.regex,"").length;t.innerText.length>s&&(i=(i=r.replace(this.regex,"").substr(0,n+l)).substr(0,Math.min(i.length,i.lastIndexOf(" "))),t.innerHTML=i,this.appendControls({type:e,element:t,originalText:r,truncatedText:i}))}if("list"===e){var o=[].slice.call(t.children);if(o.length>s){for(var d=n;d<o.length;d++)o[d].classList.add("hidden");this.appendControls({type:e,element:t,limit:n})}}if("table"===e){var h=t.rows;if(h.length>s){for(var c=n;c<h.length;c++)h[c].classList.add("hidden");this.appendControls({type:e,element:t,limit:n})}}}},{key:"appendControls",value:function(e){var t,n=this,a=e.type,s=e.element,r=e.limit,i=e.originalText,l=e.truncatedText;if("table"===a)s.insertAdjacentHTML("afterend",this.showMore),t=s.nextElementSibling;else{var o=document.createElement(this.typeElement);o.innerHTML=this.showMore,s.appendChild(o),t=s}t.addEventListener("click",(function(e){var t=e.currentTarget,o=e.target,d="table"===a?t.previousElementSibling.getAttribute("aria-expanded"):t.getAttribute("aria-expanded");if("text"===a&&o.classList.contains("showMoreButton")){s.innerHTML="",s.innerHTML="false"===d?i:l.replace(n.regex," ");var h=document.createElement(n.typeElement);h.insertAdjacentHTML("beforeend","false"===d?n.showLess:n.showMore),"true"===d?n.dataExpanded(s,o,n.more,"false"):n.dataExpanded(s,o,n.less,"true"),s.appendChild(h)}if("list"===a&&o.classList.contains("showMoreButton"))for(var c=[].slice.call(t.children),u=0;u<c.length;u++)"false"===d&&(c[u].classList.remove("hidden"),n.dataExpanded(s,o,n.less,"true")),"true"===d&&u>=r&&u<c.length-1&&(c[u].classList.add("hidden"),n.dataExpanded(s,o,n.more,"false"));if("table"===a){var p=s.rows;if("false"===d){for(var f=0;f<p.length;f++)p[f].classList.remove("hidden");n.dataExpanded(s,o,n.less,"true")}else{for(var g=r;g<p.length;g++)p[g].classList.add("hidden");n.dataExpanded(s,o,n.more,"false")}}}))}},{key:"dataExpanded",value:function(e,t,n,a){e.setAttribute("aria-expanded",a),t.innerHTML=n}}])&&e(n.prototype,a),s&&e(n,s),t}()}();
