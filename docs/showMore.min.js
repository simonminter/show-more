var ShowMore=function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){e(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}return function t(r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e(this,"initial",(function(e){var t=e.element,r=e.after,a=e.limit,l=e.type;t.setAttribute("aria-expanded","false");var c=a+r;if("text"===l){var s="",o=t.innerHTML,d=o.replace(i.regex.newLine,"").replace(i.regex.space," ").replace(i.regex.br,""),p=d.length-t.innerText.replace(i.regex.newLine,"").length;if(t.innerText.length>c){s=d.substr(0,a+p);var b=Math.min(s.length,s.lastIndexOf(" "));t.innerHTML=s.substr(0,b),i.addBtn(i.object),i.clickEvent(t,n(n({},i.object),{},{originalText:o,truncatedText:s}))}}if("list"===l||"table"===l){var m="list"===l?[].slice.call(t.children):t.rows;if(m.length>c){for(var u=a;u<m.length;u++)i.addRemClass(m[u],!0);i.addBtn(i.object),i.clickEvent("list"===l?t:t.nextElementSibling,i.object)}}})),e(this,"clickEvent",(function(e,t){e.addEventListener("click",i.handleEvent.bind(i,t))})),e(this,"createBtn",(function(e){var t=e.element,n=e.number,r=e.less,a=e.more,l=e.type,c=i.checkExp?r:a||"",s=i.checkExp?"collapse":"expand",o=document.createElement("span");return o.className="show-more-btn",o.setAttribute("aria-label",s),o.setAttribute("tabindex",0),o.innerHTML=n?c+i.getNumber(t,l):c,o})),e(this,"addRemClass",(function(e,t){e.classList[t?"add":"remove"]("hidden")})),e(this,"handleEvent",(function(e,t){var r=e.element,a=e.type,l=e.limit,c=e.typeElement,s=e.originalText,o=e.truncatedText,d=t.currentTarget,p=t.target,b=p.classList.contains("show-more-btn"),m=r.getAttribute("aria-expanded");if(i.checkExp="false"===m,"text"===a&&b){r.innerHTML="",r.innerHTML=i.checkExp?s:o;var u=document.createElement(c);u.insertAdjacentElement("beforeend",i.createBtn(e)),r.appendChild(u)}if("list"===a&&b||"table"===a)for(var h="list"===a?[].slice.call(d.children):r.rows,f=0;f<h.length;f++){var g="list"===a?f>=l&&f<h.length-1:f>=l;"false"===m?i.addRemClass(h[f],!1):g&&i.addRemClass(h[f],!0)}("table"===a||("list"===a||"text"===a)&&b)&&i.setExpand(n(n({},e),{},{target:p}))})),e(this,"addBtn",(function(e){var t=e.type,n=e.element,r=e.more,a=e.ellipsis,l=e.typeElement;if("table"!==t&&!r&&a){var c=document.createElement("span");return c.insertAdjacentHTML("afterbegin",a),void n.appendChild(c)}if(r)if("table"===t)n.insertAdjacentElement("afterend",i.createBtn(e));else{var s=document.createElement(l);s.appendChild(i.createBtn(e)),n.appendChild(s)}})),e(this,"getNumber",(function(e,t){var n=e.rows,r=e.children,i="table"===t?n:r,a=[].slice.call(i).filter((function(e){return"hidden"===e.className})).length;return 0!==a?" ".concat(a):""})),e(this,"setExpand",(function(e){var t=e.element,n=e.type,r=e.less,a=e.more,l=e.number,c=e.target,s=i.checkExp?r:a,o=i.checkExp?"collapse":"expand",d="table"===n?n:"the ".concat(n),p=t.lastElementChild;t.setAttribute("aria-expanded",i.checkExp),c.setAttribute("aria-label","".concat(o," ").concat(d)),s?c.innerHTML=l?s+i.getNumber(t,n):s:"table"===i.object.type?c.parentNode.removeChild(c):"list"===i.object.type&&p.parentNode.removeChild(p)})),this.elements=document.querySelectorAll(r),this.regex={newLine:/[^\x20-\x7E]/gm,space:/\s{2,}/gm,br:/<\s*\/?br\s*[/]?>/gm};for(var a=0;a<this.elements.length;a++){var l=JSON.parse(this.elements[a].getAttribute("data-config")),c=l.type,s=l.limit,o=l.element,d=l.after,p=l.more,b=l.less,m=l.number,u=l.ellipsis;this.object={element:this.elements[a],type:c,limit:s,ellipsis:u||!1,typeElement:o||"span",more:p||!1,less:b||!1,number:m||!1,after:d||0},this.initial(this.object)}}}();
